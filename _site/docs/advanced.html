<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-27002928-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-27002928-5');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advanced Features |  Zapier Visual Builder Documentation</title>
  <meta name="description" content="Zapier Visual Builder">
  <link rel="icon" href="/visual-builder/assets/images/favicon.ico">
  <link rel="stylesheet" href="/visual-builder/assets/stylesheets/base.css">
</head>

  <body class="split-layout">
    


<div class="sidebar">
  <div class="sidebar__header">
    <a href="/visual-builder/" class="sidebar__logo">
      <div class="sidebar__icon"></div> Zapier Visual Builder
    </a>
    <button class="menu-toggle js-menu-toggle" aria-controls="menu" aria-expanded="false">
      <div class="menu-toggle__icon" alt="Menu icon">
    </button>
  </div>
  <nav id="menu" class="sidebar__nav">
    

<a class="sidebar__toggle " href="/visual-builder/quickstart/introduction">
  <h3 class="sidebar__title">Quick Start</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="quickstart-list" aria-expanded="false"></div>
</a>

<ul id=quickstart-list class="sidebar__list" aria-hidden="true">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/introduction" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/what-you-need" class="sidebar__list-link ">What You Need</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/create-integration" class="sidebar__list-link ">Create a New Integration</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/project-structure" class="sidebar__list-link ">Project Structure</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/auth" class="sidebar__list-link ">Handle Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-trigger" class="sidebar__list-link ">Add a Trigger</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-action" class="sidebar__list-link ">Add an Action</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/test-complete" class="sidebar__list-link ">Test Your Integration</a>
    </li>
  
</ul>

    

<a class="sidebar__toggle  sidebar__toggle--is-selected " href="/visual-builder/docs/intro">
  <h3 class="sidebar__title">Beta Documentation</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="docs-list" aria-expanded="true"></div>
</a>

<ul id=docs-list class="sidebar__list" aria-hidden="false">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/intro" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/input-designer" class="sidebar__list-link ">Input Designer</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/auth" class="sidebar__list-link ">Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/basic" class="sidebar__list-link ">— Basic Auth</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/triggers" class="sidebar__list-link ">Triggers</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/search-create" class="sidebar__list-link ">Searches and Creates</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/actions" class="sidebar__list-link ">Actions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/testing" class="sidebar__list-link ">Testing (coming soon)</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/advanced" class="sidebar__list-link  sidebar__list-link--is-selected ">Advanced Features</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/versions" class="sidebar__list-link ">Versions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/glossary" class="sidebar__list-link ">Glossary</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/faq" class="sidebar__list-link ">FAQs</a>
    </li>
  
</ul>

  </nav>
</div>

    <aside class="toc">
      <h3>Contents</h3>
      <ul>
  <li><a href="#environment-variables">Environment Variables</a></li>
  <li><a href="#computed-fields">Computed Fields</a></li>
</ul>

    </aside>
    <main class="container">
      <section class="content"><p><a id="environment"></a></p>
<h2 id="environment-variables">Environment Variables</h2>

<p>Some APIs require additional data to authenticate or connect to your app. You may need a custom API key to pass to the API, along with users’ authentication credentials. Or you might want to set a sub-domain, role, user permissions, or other API configurations differently for your beta integration and live, active versions of your integration.</p>

<p>Zapier’s environment variables let you set these on a per-version basis for your app. Much like in local development environments such as the one in <a href="https://zapier.github.io/zapier-platform-cli/#environment">Zapier’s CLI developer platform</a>, environment variables store key and value pairs outside of your app’s API calls. Instead of hardcoding critical, secret values into your API authentication, trigger, and action calls, it’s best to add them as environment variables in your app’s <em>Advanced</em> settings, then reference the environment variable in your API calls.</p>

<blockquote>
  <p><strong>Tip</strong>: Zapier’s built-in OAuth v2 Authentication automatically includes client ID and client secret fields, for two of the most commonly used environment variables. Only use the custom environment variables for other variables.</p>
</blockquote>

<h3 id="how-to-add-environment-variables">How to Add Environment Variables</h3>

<p><img src="https://cdn.zapier.com/storage/photos/031d216898813b0d07c5d3936f075e51.png" alt="Zapier Environment Variables" />
<em>Add any environment variables you need in key and value pairs</em></p>

<p>To add environment variables, open your integration in Zapier visual editor and select the <em>Advanced</em> tab in the left sidebar. There you can add your environment variables including a key and a value for each. Click <em>Add</em> to include additional environment variables, or click the <code class="highlighter-rouge">x</code> icon to remove variables if needed.</p>

<h3 id="how-to-reference-environment-variables">How to Reference Environment Variables</h3>

<p><img src="https://cdn.zapier.com/storage/photos/0b8ad13d723229c67df03ad1c114dd91.png" alt="Use Zapier Environment Variable" />
<em>Use environment variables in Zapier’s API call forms or in custom code</em></p>

<p>The easiest way to use environment variables in any Zapier integration API call is through the <em>Request Body</em> form. Add your API URL, then click the <em>Show Options</em> link and select <em>Request Body</em> to see the data Zapier will send to your API. Add a new row, then enter your environment variable key as your API expects, then reference the environment variable in Zapier with the following text, replacing <code class="highlighter-rouge">YOUR_KEY</code> with your actual key:</p>

<p><code class="highlighter-rouge">{{process.env.YOUR_KEY}}</code></p>

<p>Zapier will then replace that variable with the value for that key from your <em>Advanced</em> settings—and will use the correct value every time if you change it in the future.</p>

<p>You can reference environment variables directly in your API calls the same way—though it’s best practice to include them in Zapier’s default request body instead. You can also reference them in custom code if you switch your API call to code mode.</p>

<h3 id="how-to-change-environment-variables">How to Change Environment Variables</h3>

<p><img src="https://cdn.zapier.com/storage/photos/b3273bf07dc46636595fd11edee1da1f.png" alt="Edit Zapier Environment Variables" />
<em>You can change environment variable values, but not the original keys</em></p>

<p>Need to change your environment variables for a new version of your integration, or before releasing your beta integration to the public? Open the <em>Advanced</em> page in Zapier visual editor, and this time edit the text in the <em>Values</em> column with the new variable values. You cannot edit the keys.</p>

<p>If you need to change a key and its value, first delete the old key, then add a new one instead.</p>

<p><a id="computed"></a></p>
<h2 id="computed-fields">Computed Fields</h2>

<p><em>Coming Soon</em></p>
</section>
      <footer class="prev-next">



<hr>
<a class="button blue" href="/visual-builder/docs/testing">Previous: Testing (coming soon)</a>
<a class="button blue" href="/visual-builder/docs/versions">Next: Versions</a></footer>
    </main>
    <script>
(function() {

const toggleMenu = (isOpen, id) => {
  const toggle = document.querySelector(`[aria-controls="${id}"]`);
  const list = document.querySelector(`#${id}`);
  if (toggle) {
    toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  }
  if (list) {
    list.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
  }
  if (isOpen) {
    localStorage.setItem(id, 'open');
  } else {
    localStorage.removeItem(id);
  }
};

const selectSidebarToggles = () => document.querySelectorAll('.js-sidebar-toggle');

selectSidebarToggles().forEach(function(toggle) {
  var listId = toggle.getAttribute('aria-controls');
  var list = document.getElementById(listId);
  toggle.addEventListener('click', function(event){
    const isListHidden = list.getAttribute('aria-hidden') === 'true';
    event.preventDefault();
    event.stopPropagation();
    selectSidebarToggles().forEach((tgl) => {
      toggleMenu(false, tgl.getAttribute('aria-controls'));
      toggleMenu(isListHidden, listId);
    });
  });
});

/* Sidebar menu */
var menuToggle = document.querySelector('.js-menu-toggle');
var menu = document.getElementById('menu');
var MEDIUM_SCREEN = 770;

// On initial page load, hide menu on iPad and smaller
if (window.innerWidth < MEDIUM_SCREEN) {
  menu.setAttribute('aria-hidden', 'true');
  menuToggle.setAttribute('aria-expanded', 'false');
} else {
  menu.setAttribute('aria-hidden', 'false');
}

// On window resize, show the menu if it's hidden on large screens
window.addEventListener('resize', function() {
  if (window.innerWidth >= MEDIUM_SCREEN) {
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  } else {
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  }
})

menuToggle.addEventListener('click', function(event) {
  if (menuToggle.getAttribute('aria-expanded') === 'true') {
    // Close menu
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  } else {
    // Open menu
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  }
})

})()
</script>

<script type="text/javascript">
  (function (w, d, t, u, n, s, e) {
  w['SwiftypeObject'] = n; w[n] = w[n] || function () {
    (w[n].q = w[n].q || []).push(arguments);
  }; s = d.createElement(t);
    e = d.getElementsByTagName(t)[0]; s.async = 1; s.src = u; e.parentNode.insertBefore(s, e);
  })(window, document, 'script', '//s.swiftypecdn.com/install/v2/st.js', '_st');

  _st('install', 'ZEr4Hw56b1TGkz2qViWp', '2.0.0');
</script>

  </body>
</html>
