<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-27002928-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-27002928-5');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Authentication |  Zapier Visual Builder Documentation</title>
  <meta name="description" content="Zapier Visual Builder">
  <link rel="icon" href="/visual-builder/assets/images/favicon.ico">
  <link rel="stylesheet" href="/visual-builder/assets/stylesheets/base.css">
</head>

  <body class="split-layout">
    


<div class="sidebar">
  <div class="sidebar__header">
    <a href="/visual-builder/" class="sidebar__logo">
      <div class="sidebar__icon"></div> Zapier Visual Builder
    </a>
    <button class="menu-toggle js-menu-toggle" aria-controls="menu" aria-expanded="false">
      <div class="menu-toggle__icon" alt="Menu icon">
    </button>
  </div>
  <nav id="menu" class="sidebar__nav">
    

<a class="sidebar__toggle " href="/visual-builder/quickstart/introduction">
  <h3 class="sidebar__title">Quick Start</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="quickstart-list" aria-expanded="false"></div>
</a>

<ul id=quickstart-list class="sidebar__list" aria-hidden="true">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/introduction" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/what-you-need" class="sidebar__list-link ">What You Need</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/create-integration" class="sidebar__list-link ">Create a New Integration</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/project-structure" class="sidebar__list-link ">Project Structure</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/auth" class="sidebar__list-link ">Handle Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-trigger" class="sidebar__list-link ">Add a Trigger</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-action" class="sidebar__list-link ">Add an Action</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/test-complete" class="sidebar__list-link ">Test Your Integration</a>
    </li>
  
</ul>

    

<a class="sidebar__toggle  sidebar__toggle--is-selected " href="/visual-builder/docs/intro">
  <h3 class="sidebar__title">Beta Documentation</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="docs-list" aria-expanded="true"></div>
</a>

<ul id=docs-list class="sidebar__list" aria-hidden="false">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/intro" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/input-designer" class="sidebar__list-link ">Input Designer</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/auth" class="sidebar__list-link  sidebar__list-link--is-selected ">Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/triggers" class="sidebar__list-link ">Triggers (coming soon)</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/search-create" class="sidebar__list-link ">Searches and Creates</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/actions" class="sidebar__list-link ">Actions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/testing" class="sidebar__list-link ">Testing (coming soon)</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/advanced" class="sidebar__list-link ">Advanced Features</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/versions" class="sidebar__list-link ">Versions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/glossary" class="sidebar__list-link ">Glossary</a>
    </li>
  
</ul>

  </nav>
</div>

    <main class="container">
      <section class="content"><h2 id="authentication">Authentication</h2>

<p><img src="https://cdn.zapier.com/storage/photos/5f1a0e1fc0eb5635bdf1a2983f31a9ba.png" alt="Add Zapier integration" /></p>

<p>Most apps require authentication to access data via API calls, whether to let users access their personal data or enable access to restricted APIs. When building a Zapier integration, you define how the Zapier platform connects to your app and authenticates users.</p>

<p>Zapier supports five authentication schemes: Basic Auth, Session Auth, API Keys, OAuth v2, and Digest Auth. The default settings for each cover most applications’ authentication, or you can customize the authentication if your API has specific needs.</p>

<p>Zapier uses the authentication settings you add to your integration to request the user account, API key, or other details needed—or with session and OAuth authentication, Zapier will redirect users to your application where they can allow access to their accounts and your app can send credentials to Zapier.</p>

<p><img src="https://cdn.zapier.com/storage/photos/b92a498ec3cadea178a24694127a2bf6.png" alt="Zapier account authentication popup windows" />
<em>An example popup login window for OAuth v2 on the left, and for Basic Auth on the right</em></p>

<p>When people select your integration in a Zap, they first select your app and the trigger or action step they wish to use. Zapier then asks them to authenticate with your app, where they’ll see a window like one of those above, depending on your authentication scheme. With OAuth, Zapier redirects the user to your authentication site where they login with their account and authorize Zapier to access their data. With basic and API authentication, Zapier shows a form where users enter their account credentials.</p>

<h2 id="zapier-supported-authentication-schemes">Zapier Supported Authentication Schemes</h2>

<h3 id="basic-auth">Basic Auth</h3>
<p><em>As documented by <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication">RFC 7616</a></em></p>

<p>The simplest authentication method, Basic Authentication requires nearly zero setup when building a Zapier integration. By default Zapier includes a login form that requests users’ username and password for your app, then passes that to your app along with each API call to authenticate the user. This authentication method is only recommended if it’s the only one available to your app.</p>

<h3 id="session-auth">Session Auth</h3>

<p>Session authentication works somewhat like a hybrid between Basic Auth and OAuth. Here again, users enter their username and password or other app credentials, and you can customize the fields your app needs for authentication. Then, add a token exchange URL where Zapier exchanges the credentials for an authentication token, which Zapier will then use to authenticate every API call to your app.</p>

<h3 id="api-key">API Key</h3>

<p>API key authentication works the same as Basic Auth, only here users enter a custom API key from your app instead of their account credentials. Users will need to locate an API key from your app, then enter it in the login form Zapier shows when authenticating with your app. Zapier will then pass the API key to your app to authenticate each API call.</p>

<h3 id="oauth-v2">OAuth v2</h3>
<p><em>Same authentication flow as <a href="https://developer.twitter.com/en/docs/basics/authentication/overview">Twitter</a> and <a href="https://developers.trello.com/page/authorization">Trello</a>’s OAuth v2 implementation</em></p>

<p>OAuth authentication is the authentication scheme to use when possible, as it matches users expectations from app authentication today. When users connect an app account that supports OAuth, Zapier shows a popup window from that app where users enter their user details on the app’s site and authorize Zapier to access their data. Your app sends a request token before the user authenticates, then Zapier exchanges that for an access token after they authenticate.</p>

<h3 id="digest-auth">Digest Auth</h3>
<p><em>As documented by <a href="https://tools.ietf.org/html/rfc7616">RFC 7616</a></em></p>

<p>Digest authentication is similar to Basic Auth, though more customizable and where Zapier handles the nonce and quality of protection details automatically. You can add custom fields to gather authentication details your app needs from users. Then with every API call, Zapier first contacts your app’s server to request the nonce key before passing the authentication details and any other API call data to your app.</p>

<blockquote>
  <p>Limitation: Currently, MD5-sess and SHA are not implemented. Only the MD5 algorithm is supported. In addition, server nonces are not reused. That means for every <code class="highlighter-rouge">z.request</code> call, Zapier will sends an additional request first to get the server nonce.</p>
</blockquote>

<h2 id="how-to-add-authentication-to-a-zapier-integration">How to Add Authentication to a Zapier Integration</h2>

<p><img src="https://cdn.zapier.com/storage/photos/5f1a0e1fc0eb5635bdf1a2983f31a9ba.png" alt="Add Zapier integration authentication" /></p>

<p>Authentication is the first thing added in a new Zapier integration. Select the <em>Authentication</em> tab in Zapier visual builder, and choose the authentication scheme your API users.</p>

<p>From there, the steps differ slightly depending on your authentication scheme, but in general, with every authentication option you need to:</p>

<ul>
  <li>Set your app’s authentication settings</li>
  <li>Enter a test API endpoint where Zapier can call with your users’ credentials to ensure the connection was successful</li>
  <li>Add a Connection Label to help users uniquely identify their account(s)</li>
  <li>Test the authentication and connected account to ensure authentication works</li>
</ul>

<h3 id="set-authentication-settings">Set Authentication Settings</h3>

<p><strong>Basic, API Key, and Digest Auth</strong></p>

<p><img src="https://cdn.zapier.com/storage/photos/bd27312ca8b15c35191dba9d205101fd.png" alt="Add fields to authentication" /></p>

<p>The first step in adding authentication may not need any additional details with Basic, API key, and Digest auth, depending on your app’s settings. Zapier automatically adds a form to request username and password with Basic Auth, and includes no settings to edit.</p>

<p>With Digest and API Key authentication, Zapier again automatically adds a form where users can enter their username and password with Digest or API key with API key authentication. Here, though, you can additionally add input fields to request additional data, such as other account details or more commonly an app URL with self-hosted apps such as databases and CMSs. Check our <a href="https://zapier.github.io/visual-builder/docs/input-designer">Input Designer</a> docs for details on adding input form fields—only here, you can only choose from <em>string</em> and <em>password</em> field types.</p>

<p><strong>Session Auth</strong></p>

<p><img src="https://cdn.zapier.com/storage/photos/68bf248f14cc03e25cb70e5edd8deda0.png" alt="Zapier Token Exchange URL" /></p>

<p>Session Auth includes the same options to add input fields in addition to the default username and password. Then, enter your API’s Token Exchange URL—and set any custom headers or URL params needed—where Zapier can exchange the user details for a session token.</p>

<p><strong>OAuth 2</strong></p>

<p><img src="https://cdn.zapier.com/storage/photos/7e2a44c1464a32a43982465c97c28a53.png" alt="Zapier OAuth setup" /></p>

<p>OAuth 2 Auth requires a few additional details. You can add custom fields if needed—typically here, fields are only needed if users need to enter a custom URL for your app, or if you need to store computed fields from the user’s authentication data.</p>

<p>Then copy Zapier’s OAuth Redirect URI, and add it to your application’s OAuth settings, often found in developer tools or advanced setting options. That should give you a client ID and secret from your app; copy those, and add them to the appropriate fields in Zapier.</p>

<p><img src="https://cdn.zapier.com/storage/photos/38230bc2ae606ca2fb7be8e0d774ae79.png" alt="Authorization URL OAuth 2 Zapier" /></p>

<p>Finally add the Authorization URL where Zapier will redirect users to authenticate with your app, the scope that Zapier needs to request from your app, and the API endpoint for your app where Zapier can request the access token exchange. Finally, add the refresh token API endpoint, if available, and set if Zapier should automatically refresh tokens upon login error.</p>

<p>With that, your core API connection details should be set.</p>

<h3 id="enter-a-test-api-endpoint">Enter a Test API Endpoint</h3>

<p>After adding the API connection details, you’ll add a test API call to the <em>Test</em> field. Or, with Basic authentication where there are no options to set, you’ll see this field option first.</p>

<p>Here, add a URL to an API call that requires authentication but does not require any additional input data. Typically a <code class="highlighter-rouge">/me</code> or <code class="highlighter-rouge">/user</code> call is best here—something that returns details about the account holder to verify that Zapier has successfully authenticated with and can access data in the app account.</p>

<p>Whenever a user adds an account to Zapier with your integration, Zapier will automatically make a call to this API to verify the account and optionally fill in connection label details.</p>

<p>You can add custom URL params or HTTP headers if needed. Or, you can switch to code mode to write a custom JavaScript API call. Typically, though, a simple direct API call is best here.</p>

<h3 id="add-connection-label">Add Connection Label</h3>

<p><img src="https://cdn.zapier.com/storage/photos/8cbd1c0af4f444f59bb623a5291b4683.png" alt="Add connection label" /></p>

<p>The final detail to add is the connection label. Zapier automatically adds a label with your app’s name whenever someone authenticates with your app. You can reference fields your API test call returns in the connection label—or add plain text—to customize the label for each account user.</p>

<p>To reference a field from your API call, enter <code class="highlighter-rouge">{{bundle.authData.field}}</code> in the <em>Connection Label</em> field substituting your field name for <code class="highlighter-rouge">field</code>.</p>

<p>Check the <em><a href="#label">Connection Label</a></em> section below for more details on adding a connection label.</p>

<p>Then, click <em>Save &amp; Continue</em> to save your authentication settings before testing them in the next step.</p>

<h3 id="test-authentication">Test Authentication</h3>

<p><img src="https://cdn.zapier.com/storage/photos/37a59dae4fe33ffc4894b1df23e7be83.png" alt="Test Zapier authentication" /></p>

<p>Once you’ve added the core details of how Zapier can authenticate users and test the connection, you need to try it out to set the final options. Click the <em>Connect an Account</em> button to add your account with this app to Zapier.</p>

<p>Zapier will open a popup window like one your users will see when authenticating your app with Zapier. Enter your account info or API key, or authenticate through your app’s site, using real account details for a personal or testing account.</p>

<blockquote>
  <p><strong>Tip</strong>: The account you add here will be the one you use to test any triggers and actions you add to Zapier in visual builder. It can also be used in live Zaps in Zapier, if you wish. These account details are not tied to your app definition, though, and if you add a collaborator to your Zapier integration, they will need to connect their own account for testing.</p>
</blockquote>

<p>Once you’ve added your account, you’ll see it with a connection label under the setup box. Then click <em>Test Connected Account</em> to have Zapier run your testing API call and ensure your app connection works.</p>

<p><img src="https://cdn.zapier.com/storage/photos/d5cf1a5cbc5a8389ad3272d01ef71c06.png" alt="Example Zapier authentication test response" /></p>

<p>If everything works as expected, Zapier will receive response data from the API call and display it in the <em>Response</em> tab. You can look through the JSON-formatted fields from the response and use any of the field names in your account <a href="#label">connection label</a>. You can also look at the <em>Bundle</em> tab to see the data Zapier used in the API request, and the <em>HTTP</em> tab to see the full request and response details.</p>

<p><img src="https://cdn.zapier.com/storage/photos/3337e520ebab7b09de282e598ea70cfd.png" alt="Example Zapier authentication error" /></p>

<p>If something didn’t work, Zapier will show the error message in the <em>Response</em> tab, with the full response content in the <em>HTTP</em> tab if you need more detail. Update your authentication settings accordingly, click the <em>Save &amp; Continue</em> button, then try testing your connected account again—and repeat until your authentication works and tests correctly.</p>

<p>With that, your app authentication should be finished, and your integration ready to add triggers and actions.</p>

<p><a id="label"></a></p>
<h2 id="how-to-add-a-connection-label-to-authenticated-accounts">How to Add a Connection Label to Authenticated Accounts</h2>

<p><img src="https://cdn.zapier.com/storage/photos/ed16e77428f17e869e25d4f2111df1c9.png" alt="Zapier connection labels" />
<em>A Zapier integration with a custom connection label (above) and without one (below)</em></p>

<p>Zapier lets users authenticate as many accounts for any app as they want, which is commonly used to connect multiple accounts in teams, or to add a secondary account for testing. By default, every new app account added to Zapier gets the app’s name, followed by a number if there is already another account authenticated for that app.</p>

<p>The connection label settings let you customize this account connection for your integration to include the user’s actual username, email address, name, or other identifiable information in the connection label. That makes it easy for users to distinguish between each account they’ve added to Zapier.</p>

<p><img src="https://cdn.zapier.com/storage/photos/f2c3d557023ce2a65b41122da34c1fdd.png" alt="Zapier Authentication Connection Label" /></p>

<p>Customize your app’s connection label from the <em>Connection Label</em> field in your Zapier integration. You can include:</p>

<ul>
  <li>Plain text that will be included after your app’s full name</li>
  <li>Output fields from your app’s authentication test API call, referenced with <code class="highlighter-rouge">{{bundle.authData.field}}</code> variables, replacing <code class="highlighter-rouge">field</code> for your API output field name.</li>
</ul>

<p>To add a connection label, you can enter an output field in the Connection Label if you know the name of the field you wish to use that your API sends to Zapier. Otherwise, skip adding the connection label first, and instead click <em>Connect an Account</em> under step 2. Then click <em>Test Connected Account</em> and check the <em>Response</em> tab for a field that includes the data your app should use in the connection label. Finally, use that field name to replace <code class="highlighter-rouge">field</code> in the following text, add it to your <em>Connection Label</em> field, and save the changes:</p>

<p><code class="highlighter-rouge">{{bundle.authData.field}}</code></p>

<p>You can include any field your authentication test API call returns in the connection label, though the best fields to use are usernames, account numbers, email addresses, or other identifiable but not fully private data. Never use passwords, API keys, or other critical, private info in connection labels.</p>

<h2 id="how-to-remove-authentication">How to Remove Authentication</h2>

<p><img src="https://cdn.zapier.com/storage/photos/a84d330dce6ccc18cbdeb12ca555b12d.png" alt="Zapier Remove Authentication Scheme" /></p>

<p>You cannot change an integration’s authentication scheme, but you can remove an existing integration’s authentication then add a new authentication scheme. To do so, open the <em>Authentication</em> tab in the integration’s Zapier visual builder. Click the gear icon beside the existing authentication scheme, click <em>Delete</em>, then confirm to remove the authentication.</p>

<p>Repeat the original steps to add your app’s new authentication scheme to the Zapier integration.</p>

<blockquote>
  <p><strong>Note:</strong> Never remove authentication from an existing, live integration. If an integration’s authentication scheme needs changed, clone a new major version and add the new authentication. Then migrate users to the new version, and deprecate the original version with breaking changes. <a href="https://github.com/zapier/developer-doc-content/blob/Matt-Godzilla-Quick-Start/Visual%20Builder%20Documentation/Manage%20Versions.md" target="_blank">Learn more</a></p>
</blockquote>
</section>
      <footer class="prev-next">
      	



<hr>
<a class="button blue" href="/visual-builder/docs/input-designer">Previous: Input Designer</a>
<a class="button blue" href="/visual-builder/docs/triggers">Next: Triggers (coming soon)</a>
      	<hr>
      	<p><em>Have any feedback or questions? <a href="https://github.com/zapier/visual-builder/issues/new/choose" target="_blank">Let us know</a>.</em></p>
	</footer>
    </main>
    <script>
(function() {

const toggleMenu = (isOpen, id) => {
  const toggle = document.querySelector(`[aria-controls="${id}"]`);
  const list = document.querySelector(`#${id}`);
  if (toggle) {
    toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  }
  if (list) {
    list.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
  }
  if (isOpen) {
    localStorage.setItem(id, 'open');
  } else {
    localStorage.removeItem(id);
  }
};

const selectSidebarToggles = () => document.querySelectorAll('.js-sidebar-toggle');

selectSidebarToggles().forEach(function(toggle) {
  var listId = toggle.getAttribute('aria-controls');
  var list = document.getElementById(listId);
  toggle.addEventListener('click', function(event){
    const isListHidden = list.getAttribute('aria-hidden') === 'true';
    event.preventDefault();
    event.stopPropagation();
    selectSidebarToggles().forEach((tgl) => {
      toggleMenu(false, tgl.getAttribute('aria-controls'));
      toggleMenu(isListHidden, listId);
    });
  });
});

/* Sidebar menu */
var menuToggle = document.querySelector('.js-menu-toggle');
var menu = document.getElementById('menu');
var MEDIUM_SCREEN = 770;

// On initial page load, hide menu on iPad and smaller
if (window.innerWidth < MEDIUM_SCREEN) {
  menu.setAttribute('aria-hidden', 'true');
  menuToggle.setAttribute('aria-expanded', 'false');
} else {
  menu.setAttribute('aria-hidden', 'false');
}

// On window resize, show the menu if it's hidden on large screens
window.addEventListener('resize', function() {
  if (window.innerWidth >= MEDIUM_SCREEN) {
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  } else {
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  }
})

menuToggle.addEventListener('click', function(event) {
  if (menuToggle.getAttribute('aria-expanded') === 'true') {
    // Close menu
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  } else {
    // Open menu
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  }
})

})()
</script>

<script type="text/javascript">
  (function (w, d, t, u, n, s, e) {
  w['SwiftypeObject'] = n; w[n] = w[n] || function () {
    (w[n].q = w[n].q || []).push(arguments);
  }; s = d.createElement(t);
    e = d.getElementsByTagName(t)[0]; s.async = 1; s.src = u; e.parentNode.insertBefore(s, e);
  })(window, document, 'script', '//s.swiftypecdn.com/install/v2/st.js', '_st');

  _st('install', 'ZEr4Hw56b1TGkz2qViWp', '2.0.0');
</script>

  </body>
</html>
