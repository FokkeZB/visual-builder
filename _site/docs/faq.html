<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-27002928-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-27002928-5');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FAQs |  Zapier Visual Builder Documentation</title>
  <meta name="description" content="Zapier Visual Builder">
  <link rel="icon" href="/visual-builder/assets/images/favicon.ico">
  <link rel="stylesheet" href="/visual-builder/assets/stylesheets/base.css">
</head>

  <body class="split-layout">
    


<div class="sidebar">
  <div class="sidebar__header">
    <a href="/visual-builder/" class="sidebar__logo">
      <div class="sidebar__icon"></div> Zapier Visual Builder
    </a>
    <button class="menu-toggle js-menu-toggle" aria-controls="menu" aria-expanded="false">
      <div class="menu-toggle__icon" alt="Menu icon">
    </button>
  </div>
  <nav id="menu" class="sidebar__nav">
    

<a class="sidebar__toggle " href="/visual-builder/quickstart/introduction">
  <h3 class="sidebar__title">Quick Start</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="quickstart-list" aria-expanded="false"></div>
</a>

<ul id=quickstart-list class="sidebar__list" aria-hidden="true">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/introduction" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/what-you-need" class="sidebar__list-link ">What You Need</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/create-integration" class="sidebar__list-link ">Create a New Integration</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/project-structure" class="sidebar__list-link ">Project Structure</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/auth" class="sidebar__list-link ">Handle Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-trigger" class="sidebar__list-link ">Add a Trigger</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/build-action" class="sidebar__list-link ">Add an Action</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/quickstart/test-complete" class="sidebar__list-link ">Test Your Integration</a>
    </li>
  
</ul>

    

<a class="sidebar__toggle  sidebar__toggle--is-selected " href="/visual-builder/docs/intro">
  <h3 class="sidebar__title">Beta Documentation</h3>
  <div class="sidebar__arrow js-sidebar-toggle" aria-controls="docs-list" aria-expanded="true"></div>
</a>

<ul id=docs-list class="sidebar__list" aria-hidden="false">
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/intro" class="sidebar__list-link ">Intro</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/start" class="sidebar__list-link ">Getting Started</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/auth" class="sidebar__list-link ">Authentication</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/basic" class="sidebar__list-link ">— Basic Auth</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/session" class="sidebar__list-link ">— Session Auth</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/apikey" class="sidebar__list-link ">— API Key Auth</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/oauth" class="sidebar__list-link ">— OAuth v2</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/digest" class="sidebar__list-link ">— Digest Auth</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/input-designer" class="sidebar__list-link ">Input Designer</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/triggers" class="sidebar__list-link ">Triggers</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/actions" class="sidebar__list-link ">Actions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/search-create" class="sidebar__list-link ">Searches and Creates</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/testing" class="sidebar__list-link ">Testing</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/advanced" class="sidebar__list-link ">Advanced Features</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/versions" class="sidebar__list-link ">Versions</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/faq" class="sidebar__list-link  sidebar__list-link--is-selected ">FAQs</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/glossary" class="sidebar__list-link ">Glossary</a>
    </li>
  
    <li class="sidebar__list-item">
      <a href="/visual-builder/docs/vs" class="sidebar__list-link ">Visual Builder vs CLI</a>
    </li>
  
</ul>

  </nav>
</div>

    <aside class="toc">
      <h3>Contents</h3>
      <ul>
  <li><a href="#how-does-code-mode-work">How Does Code Mode Work?</a></li>
  <li><a href="#is-my-zapier-integration-using-the-form-or-code-mode-settings">Is my Zapier Integration Using the Form or Code Mode Settings?</a></li>
  <li><a href="#why-are-options-grayed-out-for-my-cli-built-integration">Why Are Options Grayed Out For my CLI-built Integration?</a></li>
  <li><a href="#what-response-type-does-zapier-expect">What Response Type Does Zapier Expect?</a></li>
  <li><a href="#i-got-an-an-array-is-expected-error-how-do-i-fix-that">I Got an “An array is Expected” error. How do I Fix That?</a></li>
  <li><a href="#why-does-zapier-show-censored-fields-in-request-and-response-data">Why Does Zapier Show <code class="highlighter-rouge">censored</code> Fields in Request and Response Data?</a></li>
  <li><a href="#how-to-clean-up-test-authentication-accounts">How to Clean Up Test Authentication Accounts?</a></li>
  <li><a href="#how-do-sample-data-and-output-fields-work">How do Sample Data and Output Fields Work?</a></li>
</ul>

    </aside>
    <main class="container">
      <section class="content"><h1 id="frequently-asked-questions">Frequently Asked Questions</h1>

<p><a id="code"></a></p>
<h2 id="how-does-code-mode-work">How Does Code Mode Work?</h2>

<p><img src="https://cdn.zapier.com/storage/photos/5abf045cf0b8f3cce37d05d51071d6e9.png" alt="Zapier visual builder code mode" />
<em>Each API call pane in Zapier visual builder includes a code mode toggle</em></p>

<p>Zapier visual builder includes a form to add API endpoint URLs and choose the API call type, then automatically includes any authentication details and input form data with the API call. You can additionally set any custom options your API may need, including custom URL params, HTTP headers, and request body items. Zapier then parses JSON encoded responses into individual output fields to use in subsequent Zap steps.</p>

<p>This is the best way to set up most API calls and options in Zapier integration authentication, triggers, and actions.</p>

<p>If your API calls need more customization, however, or your API response is in a non-JSON format, you will need to write custom JavaScript code to handle your API call and/or response parsing. Zapier visual builder includes a <em>Switch to Code Mode</em> toggle on every API request, similar to the one pictured above, that switches that specific API call to code mode.</p>

<blockquote>
  <p><strong>Remember:</strong> Code Mode is a toggle. Code Mode and Form Mode are saved separately; changes to one do not affect the other. The settings in the currently visible editor are the ones Zapier uses in your integration.</p>
</blockquote>

<p>The first time you switch to code mode, Zapier copies everything entered in the API request form, including any custom options added, and converts them to JavaScript code. It then changes the UI to code mode where you can add code for your API call.</p>

<p>In code mode, you can write JavaScript code, using Zapier’s default code as a base or writing custom code. Use the <code class="highlighter-rouge">z.object</code> for Zapier specific features, including <code class="highlighter-rouge">z.console</code> to write to the console log, <code class="highlighter-rouge">z.JSON</code> to parse JSON, <code class="highlighter-rouge">z.errors</code> to take action on errors, and more. Check <a href="https://zapier.github.io/zapier-platform-cli/#z-object">Zapier’s CLI Z Object docs</a> for details.</p>

<p>Additionally, use Zapier bundles to access auth data, data from user input forms, request data, and more. Learn more in our <a href="https://zapier.github.io/visual-builder/docs/advanced#bundle">Zapier bundle docs</a>.</p>

<p>Do note that changes are not saved automatically. Once you have added the code you want, click <em>Save &amp; Continue</em> to add the changes to your integration.</p>

<p><img src="https://cdn.zapier.com/storage/photos/ea2eb690bf92b55fab0bbad290107a97.png" alt="Zapier code mode switch to form mode" />
<em>Switch back to form mode to use the form mode settings instead of your custom code</em></p>

<p>Once you switch to code mode, Zapier uses your custom code for that API call, and does not use the data you previously entered in the form.</p>

<p>If you wish to switch back to the form mode, click the <em>Switch to Form Mode</em> button to see the form options as they were when you first switched to code mode. Zapier will save the code you entered, but will not convert it back to the form mode or use the custom code in your live integration.</p>

<p>You may switch back to code mode again—though this time, Zapier will show the last saved version of your code, and will not copy any changes from your API call form to the code.</p>

<h2 id="is-my-zapier-integration-using-the-form-or-code-mode-settings">Is my Zapier Integration Using the Form or Code Mode Settings?</h2>

<p>Zapier uses the currently visible option when running each part of your integration. If the form mode is visible for an API call in an integration’s authentication, trigger, or action settings, that Zapier integration is using the data from form mode. If the code mode is visible for an API call, Zapier is using the code instead to turn that part of the integration.</p>

<p>To check which mode and settings Zapier is using for each API call, open that part of your Zapier integration and visually check to see if the form or code mode is visible.</p>

<p><a id="cli"></a></p>
<h2 id="why-are-options-grayed-out-for-my-cli-built-integration">Why Are Options Grayed Out For my CLI-built Integration?</h2>

<p><img src="https://cdn.zapier.com/storage/photos/c631ca2cd91ab43b0bc4d22f641eb4d6.png" alt="Zapier CLI integration in visual builder" /></p>

<p>The Zapier Command Line Interface (CLI) is a separate SDK available to install on your local development machine to create Zapier integrations. It lets you work in code rather than a web based UI for more advanced integrations.</p>

<p>Integrations created in the CLI cannot be edited in the visual builder UI. You can’t add triggers or actions, edit code or configurations, for instance.  Zapier’s platform site lists every integration you build, in the visual builder or CLI, but disables the core editing options for CLI-built integrations. These options will be grayed out in the UI.</p>

<p>You <em>can</em> manage the other details of your CLI integration from the UI, however, including:</p>

<ul>
  <li>Invite testers and collaborators</li>
  <li>Monitor integration usage</li>
  <li>Change environment variables</li>
  <li>Submit your integration to be made publicly available</li>
  <li>Promote a new integration version to public</li>
  <li>Migrate users between versions</li>
</ul>

<p><em>Coming Soon</em>: In an upcoming version of Zapier’s visual builder, you will be able to export a CLI version of your visual builder project. This will be a one-time export that converts your visual builder integration to a CLI format that you can edit and maintain on your local development machine. You can then create and push new versions of your integration via Zapier CLI, and can manage the details from the visual builder UI or the CLI. Once you enable CLI, though, you will not be able to edit or add authentication, trigger, or action details in the visual builder UI.</p>

<p><a id="response"></a></p>
<h2 id="what-response-type-does-zapier-expect">What Response Type Does Zapier Expect?</h2>

<p>With every API call, including authentication and auth testing calls, triggers, searches, and create actions, Zapier expects to receive response data from the API. If your API call does not return a response, Zapier will show a timeout error.</p>

<p>Zapier additionally expects different data for different API calls:</p>

<ul>
  <li><strong>Object</strong> <em>for Authentication, Auth testing, and Create Actions</em>. Zapier expects to receive a single JSON formatted object with the correct details, including specific fields for Authentication calls depending on the auth scheme. Zapier will parse the individual fields and, with Create Actions, let users include their data in subsequent Zap steps.</li>
  <li><strong>Array</strong> <em>for Triggers and Search Actions</em>. Zapier expects to receive a JSON formatted array with the results in reverse chronological order. Even if the trigger or search only returns a single item, it should be formatted as an array. Zapier will then parse the results and return the most relevant result for searches, and return all new items from Triggers that pass Zapier’s deduper.</li>
</ul>

<p><a id="array"></a></p>
<h2 id="i-got-an-an-array-is-expected-error-how-do-i-fix-that">I Got an “An array is Expected” error. How do I Fix That?</h2>

<p>With you add a polling trigger or search action to a Zap, the Zapier platform expects to get a bare array of the new or found items, sorted in reverse chronological order. APIs will instead return a result <em>object</em> that contains the array of items the trigger needs.</p>

<p>For example, for a “New Channel” trigger with Slack’s API, we might start with a <code class="highlighter-rouge">http://slack.com/api/channels.list</code> request:</p>

<p><img src="https://cdn.zapier.com/storage/photos/1f84a3519ad4e78c3567cdbff8a4c1d3.png" alt="" /></p>

<p>Test it, though, and Zapier will show an error message like the one below:</p>

<p><img src="https://cdn.zapier.com/storage/photos/55f500a240d571c5d81be4a28fff109b.png" alt="" /></p>

<p>Dig into the API response, and you’ll see that what was returned was an <em>object</em> that contains the array of items we need, not the array itself:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "ok": true,
    "channels": [
        {
            "id": "01234",
            "name": "general",
            "is_channel": true,
            "created": 1390943394,
            "is_archived": false,
            "is_general": true,
            "unlinked": 0,
            ....
</code></pre></div></div>

<p>What we need to return to Zapier is that array of channels. To do that we need to switch to “Code Mode” in our request. That lets us provide a JavaScript function to handle our request, where we can make needed changes to the structure or content of the result before we return data to the Zapier platform.</p>

<p>For this request, use <code class="highlighter-rouge">return results.channels</code> in line 18, instead of the default <code class="highlighter-rouge">return results</code>, to have Zapier return the array of results from <code class="highlighter-rouge">channels</code>.</p>

<p><img src="https://cdn.zapier.com/storage/photos/e1d09e9fdf952ef5f5b031bd705e5802.png" alt="" /></p>

<blockquote>
  <p>Remember: “Code Mode” is a toggle; if you switch back to Form Mode your code will be ignored! <a href="#code">Learn more</a>.</p>
</blockquote>

<p>Now, retest the request and it should run successfully. Note the response this time is a bare array:</p>

<p><img src="https://cdn.zapier.com/storage/photos/33098c9f9c1584295e074c1dc8a40e72.png" alt="" /></p>

<p><a id="censored"></a></p>
<h2 id="why-does-zapier-show-censored-fields-in-request-and-response-data">Why Does Zapier Show <code class="highlighter-rouge">censored</code> Fields in Request and Response Data?</h2>

<p><img src="https://cdn.zapier.com/storage/photos/9356f3af9c0a844a652868d877e22486.png" alt="Example censored fields in Zapier" /></p>

<p>When testing Authentication, Triggers, or Actions in Zapier visual builder, you can see the raw data Zapier sends to your API call and receives from it in the <em>Bundle</em> and <em>HTTP</em> tabs of the testing pane. Some of those values may not be shown; instead, you’ll see a value like <code class="highlighter-rouge">:censored:6:82a3be9927:</code> as in the screenshot above.</p>

<p>Zapier automatically censors sensitive values at runtime, including all input fields marked as <code class="highlighter-rouge">password</code> and all authentication fields that will include sensitive, private data including username and password fields from Basic and Digest auth, API keys from API key auth, access and refresh tokens from Session and OAuth v2 authentication. These values are stored in the <code class="highlighter-rouge">Auth</code> bundle and used in API calls, but are replaced in Zapier’s logs with a <code class="highlighter-rouge">censored</code> value.</p>

<p><a id="cleanup"></a></p>
<h2 id="how-to-clean-up-test-authentication-accounts">How to Clean Up Test Authentication Accounts?</h2>

<p><img src="https://cdn.zapier.com/storage/photos/7fe9f9155dafbcc5d9b461720d664d4d.png" alt="Example account with multiple test accounts" /></p>

<p>While building your integration, testing authentication, and customizing your app’s connection label, you may quickly end up with a list of broken or old app authentications. You can clean those up and remove older accounts from your core Zapier account.</p>

<p><img src="https://cdn.zapier.com/storage/photos/c7fe45e90f7c4c00f6ffd938d417cdd0.png" alt="Remove authed accounts" /></p>

<p>Open your <a href="https://zapier.com/app/settings/authorizations">Zapier <em>Connected Accounts</em></a> page, and press <code class="highlighter-rouge">CMD</code>+<code class="highlighter-rouge">F</code> or <code class="highlighter-rouge">Ctrl</code>+<code class="highlighter-rouge">F</code> then search for your app’s name. Click <em>Disconnect</em> then confirm to remove any account, and repeat for each subsequent testing account you added to clean up your authentication list.</p>

<p>Then refresh your integration page in visual builder, and you’ll only see the authentications you left running.</p>

<p><a id="output"></a></p>
<h2 id="how-do-sample-data-and-output-fields-work">How do Sample Data and Output Fields Work?</h2>

<p><img src="https://cdn.zapier.com/storage/photos/8ab32f061aa89f3b57e8f4a5ea16a9d9.png" alt="Adding Sample Data to Zapier integration" />
<em>Sample Data gives Zapier example data if users don’t test the trigger or action; Output Fields give your API data user-friendly names in subsequent Zap steps</em></p>

<p>The last step in creating a new Trigger or Action for a Zapier integration is to <em>Define your Output</em>. Here, Zapier asks both for Sample Data and Output Fields. Neither are required, but both help improve the Zapier experience for your users.</p>

<p><img src="https://cdn.zapier.com/storage/photos/d4e5d47c461efa897a907c2806aecc1d.png" alt="Sample Data in a Zap Step" /></p>

<p>Sample Data lists the default data Zapier shows users when building a Zap using this step. By default, Zapier will ask to test the Zap step after users set it up. With Triggers, Zapier will try to fetch recently added or updated items; with Actions, Zapier will try to find or create the item using the user’s data.</p>

<p>If users are in a hurry, though, they can click <em>Skip This Step</em>. Zapier will then show the sample data instead, both with triggers and actions, so they can map fields correctly in subsequent Zap steps without seeing their app account’s live data. Or with triggers, if your app doesn’t have any data for this item yet, Zapier will default to showing the sample data instead of showing an error that no items are available.</p>

<p>Sample Data is especially important for Triggers, and useful with Actions as well.</p>

<p>To include sample data in your integration, open the final step of your Zapier trigger or action’s API Configuration. There, write valid JSON output data using the same field names as your API with sample response data that does not include any personally identifiable data, is safe for work copy, and is easily recognizable as sample data. Here are example sample data for a GitHub issue:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "body": "This is a sample issue",
  "html_url": "https://github.com/",
  "title": "Test Issue"
}
</code></pre></div></div>

<p><img src="https://cdn.zapier.com/storage/photos/31d6247a888135ed334d5035ce4b0ade.png" alt="Adding Output Fields to Zapier integration" /></p>

<p>Output Fields add user-friendly labels to your API’s response data. By default, Zapier will try to make friendly version of your API’s response, capitalizing words and adding spaces instead of underscores. You can customize this further with Output Fields.</p>

<p>For example, if you use GitHub’s API to watch for new issues, the API calls the issue name <em>Title</em>. Users may expect that field to be called <em>Issue</em> or <em>Issue Title</em>, so you could define that add a custom name for that field.</p>

<p>Output Fields are equally important for both triggers and actions, as the output data from both may be used in subsequent Zap steps.</p>

<p>To add output fields, list the original field name from your API response in the left column, and a human friendly name for the field in the right column of your Zapier trigger or action’s API configuration. Zapier will then substitute those names for those output field titles in your users’ Zaps as in the screenshot above.</p>
</section>
      <footer class="prev-next">



<hr>
<a class="button blue" href="/visual-builder/docs/versions">Previous: Versions</a>
<a class="button blue" href="/visual-builder/docs/glossary">Next: Glossary</a></footer>
            <hr>
        <p><em>Have any feedback or questions? <a href="https://github.com/zapier/visual-builder/issues/new/choose" target="_blank">Let us know</a>.</em></p>
    </main>
    <script>
(function() {

const toggleMenu = (isOpen, id) => {
  const toggle = document.querySelector(`[aria-controls="${id}"]`);
  const list = document.querySelector(`#${id}`);
  if (toggle) {
    toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  }
  if (list) {
    list.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
  }
  if (isOpen) {
    localStorage.setItem(id, 'open');
  } else {
    localStorage.removeItem(id);
  }
};

const selectSidebarToggles = () => document.querySelectorAll('.js-sidebar-toggle');

selectSidebarToggles().forEach(function(toggle) {
  var listId = toggle.getAttribute('aria-controls');
  var list = document.getElementById(listId);
  toggle.addEventListener('click', function(event){
    const isListHidden = list.getAttribute('aria-hidden') === 'true';
    event.preventDefault();
    event.stopPropagation();
    selectSidebarToggles().forEach((tgl) => {
      toggleMenu(false, tgl.getAttribute('aria-controls'));
      toggleMenu(isListHidden, listId);
    });
  });
});

/* Sidebar menu */
var menuToggle = document.querySelector('.js-menu-toggle');
var menu = document.getElementById('menu');
var MEDIUM_SCREEN = 770;

// On initial page load, hide menu on iPad and smaller
if (window.innerWidth < MEDIUM_SCREEN) {
  menu.setAttribute('aria-hidden', 'true');
  menuToggle.setAttribute('aria-expanded', 'false');
} else {
  menu.setAttribute('aria-hidden', 'false');
}

// On window resize, show the menu if it's hidden on large screens
window.addEventListener('resize', function() {
  if (window.innerWidth >= MEDIUM_SCREEN) {
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  } else {
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  }
})

menuToggle.addEventListener('click', function(event) {
  if (menuToggle.getAttribute('aria-expanded') === 'true') {
    // Close menu
    menu.setAttribute('aria-hidden', 'true');
    menuToggle.setAttribute('aria-expanded', 'false');
  } else {
    // Open menu
    menu.setAttribute('aria-hidden', 'false');
    menuToggle.setAttribute('aria-expanded', 'true');
  }
})

})()
</script>

<script type="text/javascript">
  (function (w, d, t, u, n, s, e) {
  w['SwiftypeObject'] = n; w[n] = w[n] || function () {
    (w[n].q = w[n].q || []).push(arguments);
  }; s = d.createElement(t);
    e = d.getElementsByTagName(t)[0]; s.async = 1; s.src = u; e.parentNode.insertBefore(s, e);
  })(window, document, 'script', '//s.swiftypecdn.com/install/v2/st.js', '_st');

  _st('install', 'ZEr4Hw56b1TGkz2qViWp', '2.0.0');
</script>

  </body>
</html>
